{"version":3,"file":"static/js/979.db16d3f8.chunk.js","mappings":"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","sources":["Api/Api.jsx","components/Hooks/useMovie.jsx","webpack://react-homework-template/./src/components/Pages/MoviePage/MoviePage.module.css?e783","components/Pages/MoviePage/MoviePage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'a2e5f58044c38f804a49ba727f68bccf';\n\nconst BASE_URL = 'https://api.themoviedb.org';\n\nconst instance = axios.create({\n  baseURL: BASE_URL,\n  headers: { 'Content-Type': 'application/json' },\n  params: {\n    api_key: API_KEY,\n    language: 'en-US',\n  },\n});\n\nexport const getData = url => {\n  try {\n    return instance.get(`/${url}`);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport default API_KEY;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n// import API_KEY from 'Api/Api';\nimport { getData } from 'Api/Api';\n\nconst useMovie = () => {\n  const [page, setPage] = useState(1);\n  const [moreBtn, setMoreBtn] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const MOVIES_URL = `3/search/movie?&query=${query}&page=${page}&include_adult=false`;\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const inputQuery = event.currentTarget.elements.input.value;\n\n    if (!inputQuery) {\n      return setSearchParams({});\n    }\n    setSearchParams({ query: inputQuery });\n  };\n\n  const handleLoadMore = () => {\n    setPage(prev => prev + 1);\n  };\n\n  const [movies, setMovies] = useState([]);\n\n  useEffect(() => {\n    if (query.trim() === '') {\n      return;\n    }\n\n    getData(MOVIES_URL)\n      .then(response => {\n        const { page, results, total_pages } = response.data;\n        setMovies(prevState => [...prevState, ...results]);\n        setPage(page);\n        if (total_pages > page) {\n          setMoreBtn(true);\n        }\n      })\n      .catch(error => {\n        console.log(error.message);\n  });\n}, [MOVIES_URL, query, page])\n\n  return [movies, handleSubmit, moreBtn, handleLoadMore];\n};\n\nexport default useMovie;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MoviePage_form__upAlp\",\"button\":\"MoviePage_button__QVK0-\",\"input\":\"MoviePage_input__yt7tF\"};","import { useLocation, Link } from 'react-router-dom';\nimport { BiSearch } from 'react-icons/bi';\nimport useMovies from '../../Hooks/useMovie';\nimport css from './MoviePage.module.css';\n\nconst MoviesPage = () => {\n  const [movies, handleSubmit, moreBtn, handleLoadMore] = useMovies();\n  const location = useLocation();\n\n  return (\n    <>\n      <form className={css.form} onSubmit={handleSubmit}>\n        <button className={css.button} type=\"submit\">\n          <BiSearch size=\"20px\" />\n        </button>\n\n        <input\n          className={css.input}\n          name=\"input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n      <ul>\n        {movies.length > 0 &&\n          movies.map(movie => {\n            const { original_title, id } = movie;\n            return (\n              <li key={id}>\n                <Link to={`${id}`} state={{ from: location }}>\n                  <span>{original_title}</span>\n                </Link>\n              </li>\n            );\n          })}\n      </ul>\n      {moreBtn && (\n        <button type=\"button\" onClick={handleLoadMore}>\n          Load More\n        </button>\n      )}\n    </>\n  );\n};\n\nexport default MoviesPage;"],"names":["API_KEY","instance","axios","baseURL","headers","params","api_key","language","getData","url","get","concat","error","console","log","_searchParams$get","_useState","useState","_useState2","_slicedToArray","page","setPage","_useState3","_useState4","moreBtn","setMoreBtn","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","query","MOVIES_URL","_useState5","_useState6","movies","setMovies","useEffect","trim","then","response","_response$data","data","results","total_pages","prevState","_toConsumableArray","catch","message","event","preventDefault","inputQuery","currentTarget","elements","input","value","prev","_useMovies","useMovies","_useMovies2","handleSubmit","handleLoadMore","location","useLocation","_jsxs","_Fragment","children","className","css","onSubmit","_jsx","type","BiSearch","size","name","autoComplete","autoFocus","placeholder","length","map","movie","original_title","id","Link","to","state","from","onClick"],"sourceRoot":""}